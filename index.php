<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Icon -->
    <link rel="Icon" href="img/icon.jpg" />
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
    <link href="lib/animate/animate.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.min.js" integrity="sha384-heAjqF+bCxXpCWLa6Zhcp4fu20XoNIA98ecBC1YkdXhszjoejr5y9Q77hIrv8R9i" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />

    <!-- My CSS -->
    <link rel="stylesheet" href="style.css" />
    <title>My Portfolio | Asep Isa</title>
  </head>
  <body id="home">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light shadow fixed-top" style="background-color: #24150b88">
      <div class="container-fluid">
        <a class="navbar-brand text-light fw-bold" href="#">Asep Isa</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div class="navbar-nav ms-auto">
            <a class="nav-link active text-light" aria-current="page" href="#home">Home</a>
            <a class="nav-link text-light" href="#about">About</a>
            <a class="nav-link text-light" href="#projects">Projects</a>
            <a class="nav-link text-light" href="#contact">Contact</a>
            <a class="nav-link text-light" href="#skills">Skills</a>
          </div>
        </div>
      </div>
    </nav>
    <!-- Akhir Navbar -->

    <!-- Jumbotron -->
    <section class="jumbotron text-center" style="background-image: url(img/wp\ bg.jpg);">
      <img src="img/profile.jpeg" alt="Asep Isa" width="300" class="rounded-circle img-thumbnail" />
      <h1 class="display-4 text-light fw-bold">Asep Isa</h1>
      <p class="lead text-light fw-bold">Web Desainer | Programmer.</p>
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
        <path
          fill="#ffffff"
          fill-opacity="1"
          d="M0,128L48,138.7C96,149,192,171,288,165.3C384,160,480,128,576,106.7C672,85,768,75,864,80C960,85,1056,107,1152,112C1248,117,1344,107,1392,101.3L1440,96L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"
        ></path>
      </svg>
    </section>
    <!-- Akhir Jumbotron -->

    <!-- About -->
    <section id="about">
      <div class="container">
        <div class="row text-center mb-3 fw-bold">
          <div class="col wow fadeInUp" data-wow-delay="0.5s">
            <h2>About Me</h2>
          </div>
        </div>
        <div class="row justify-content-center text-center">
          <div class="col-md">
            <p>
            Perkenalkan Saya Asep Isa Saepul Akbar Saya lahir di Ciamis pada 24 September 2003. Tempat tinggal di Cilogaang.
            kota Cikoneng Jawa Barat. Sekarang Saya kuliah di Universitas Galuh Ciamis jurusan Sistem Informasi dan selama di jurusan Sistem Informasi Saya mampu menguasai dasar pembuatan website,
            selain belajar tentang website di Sistem Informasi juga mempelajari cara pembuatan aplikasi desktop dan bahasa pemograman yang sudah dipelajari adalah HTML, CSS, dan PHP.
            </p>
          </div>
          <div class="col-md">
            Motivasi saya adalah "Teruslah berjuang, jangan pernah menunggu apapun itu. Sebab, kamu tidak akan pernah menemui waktu yang tepat dalam berusaha."
          </div>
        </div>
      </div>
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
        <path
          fill="#e7dac9"
          fill-opacity="1"
          d="M0,96L48,90.7C96,85,192,75,288,85.3C384,96,480,128,576,133.3C672,139,768,117,864,112C960,107,1056,117,1152,128C1248,139,1344,149,1392,154.7L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"
        ></path>
      </svg>
    </section>
    <!-- Akhir About -->

    <!-- Project -->
    <section id="projects">
      <div class="container">
        <div class="row text-center mb-3 fw-bold">
          <div class="colwow fadeInUp" data-wow-delay="0.5s">
            <h2>Documentation About Me</h2>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 mb-3">
            <div class="card">
              <img src="img/projects/1.png" class="card-img-top" alt="Project 1" />
              <div class="card-body">
                <p class="card-text">Website One Direction</p>
              </div>
            </div>
          </div>
          <div class="col-md-6 mb-3">
            <div class="card">
              <img src="img/projects/2.png" class="card-img-top" alt="Project 2" />
              <div class="card-body">
                <p class="card-text">Desain Website Bocchi The Rock</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
        <path
          fill="#fff"
          fill-opacity="1"
          d="M0,192L48,213.3C96,235,192,277,288,277.3C384,277,480,235,576,224C672,213,768,235,864,208C960,181,1056,107,1152,85.3C1248,64,1344,96,1392,112L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"
        ></path>
      </svg>
    </section>
    <!-- Akhir Project -->

    <!-- Contact -->
    <section id="contact">
      <div class="container">
        <div class="row text-center fw-bold">
          <div class="col wow fadeInUp" data-wow-delay="0.5s">
            <h2>Contact Us</h2>
          </div>
        </div>
        <div class="row justify-content-center">
          <div class="col-md-8">
            <form>
              <div class="mb-3">
                <label for="name" class="form-label fw-bold">Nama</label>
                <input type="text" class="form-control" id="name" aria-describedby="name" />
              </div>
              <div class="mb-3">
                <label for="email" class="form-label fw-bold">Email</label>
                <input type="email" class="form-control" id="email" aria-describedby="email" />
              </div>
              <div class="mb-3">
                <label for="Pesan" class="form-label fw-bold">Pesan</label>
                <textarea class="form-control" id="Pesan" rows="3"></textarea>
              </div>

              <button type="submit" class="btn btn-dark text-light">Kirim</button>
            </form>
          </div>
        </div>
      </div>
    </section>
    <!-- Akhir Contact -->
<!-- Tabel -->
<section id="skills">
        <div>
            <div class="container">
                <div id="message">
                </div>

                <h1 class="mt-4 mb-4 text-center text-dark">SKILLS
                    CRUD</h1>
                <div class="card">
                    <div class="card-header">
                        <div class="row">
                            <div class="col col-sm-9">SKILLS</div>
                            <div class="col col-sm-3">
                                <button type="button" id="add_data" class="btn btn-success btn-sm float-end">Add</button>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-striped table-bordered" id="sample_data">
                                <thead>
                                    <tr>
                                        <th>User ID</th>
                                        <th>Skill Name</th>
                                        <th>Rating</th>
                                        <th>Description</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal" tabindex="-1" id="action_modal">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <form method="post" id="sample_form">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="dynamic_modal_title"></h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <div class="mb-3">
                                        <label class="form-label">User ID</label>
                                        <input type="text" name="user_id" id="user_id" class="form-control" />
                                        <span id="user_id_error" class="text-danger"></span>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Skill Name</label>
                                        <input type="skill_name" name="skill_name" id="skill_name" class="form-control" />
                                        <span id="skill_name_error" class="text-danger"></span>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Rating</label>
                                        <input type="rating" name="rating" id="rating" class="form-control" />
                                        <span id="rating_error" class="text-danger"></span>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Description</label>
                                        <input type="text" name="description" id="description" class="form-control" />
                                        <span id="description_error" class="text-danger"></span>
                                    </div>

                                </div>
                                <div class="modal-footer">
                                    <input type="hidden" name="id" id="id" />
                                    <input type="hidden" name="action" id="action" value="Add" />
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" class="btn btn-primary" id="action_button">Add</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
<!-- End Tabel -->
       

    <!-- Footer -->
    <footer class="text-center p-3 fw-bold" style="background-color: rgba(143, 85, 46, 0.534)">
      <p>Kunjungi Instagram Saya <i class="bi bi-instagram"></i> <a href="https://www.instagram.com/asepisa24?igsh=NnJycXBsMWtiOHB2 text-light" class="text-dark">Asep Isa</a></p>
    </footer>
    <!-- Akhir Footer -->
    

    <script>
      $(document).ready(function () {
        showAll();

        $("#add_data").click(function () {
          $("#dynamic_modal_title").text("Add User skills");
          $("#sample_form")[0].reset();
          $("#action").val("Add");
          $("#action_button").text("Add");
          $(".text-danger").text("");
          $("#action_modal").modal("show");
        });

        $("#sample_form").on("submit", function (event) {
          event.preventDefault();
          if ($("#action").val() == "Add") {
            var formData = {
              user_id: $("#user_id").val(),
              skill_name: $("#skill_name").val(),
              rating: $("#rating").val(),
              description: $("#description").val(),
            };

            $.ajax({
              url: "https://asepisa07.amisbudi.cloud//portofolio-asep/si-admin/api/skills/create.php",
              method: "POST",
              data: JSON.stringify(formData),
              success: function (data) {
                $("#action_button").attr("disabled", false);
                $("#message").html('<div class="alert alert-success">' + data.message + "</div>");
                $("#action_modal").modal("hide");
                $("#sample_data").DataTable().destroy();
                showAll();
              },
              error: function (err) {
                console.log(err);
              },
            });
          } else if ($("#action").val() == "Update") {
            var formData = {
              id: $("#id").val(),
              user_id: $("#user_id").val(),
              skill_name: $("#skill_name").val(),
              rating: $("#rating").val(),
              description: $("#description").val(),
            };

            $.ajax({
              url: "https://asepisa07.amisbudi.cloud//portofolio-asep/si-admin/api/skills/update.php",
              method: "PUT",
              data: JSON.stringify(formData),
              success: function (data) {
                $("#action_button").attr("disabled", false);
                $("#message").html('<div class="alert alert-success">' + data.message + "</div>");
                $("#action_modal").modal("hide");
                $("#sample_data").DataTable().destroy();
                showAll();
              },
              error: function (err) {
                console.log(err);
              },
            });
          }
        });
      });

      function showAll() {
        $.ajax({
          type: "GET",
          contentType: "application/json",
          url: "https://asepisa07.amisbudi.cloud//portofolio-asep/si-admin/api/skills/read.php",
          success: function (response) {
            // console.log(response);
            var json = response.body;
            var dataSet = [];
            for (var i = 0; i < json.length; i++) {
              var sub_array = {
                user_id: json[i].user_id,
                skill_name: json[i].skill_name,
                rating: json[i].rating,
                description: json[i].description,
                action: '<button onclick="showOne(' + json[i].id + ')" class="btn btn-sm btn-warning">Edit</button>' + '<button onclick="deleteOne(' + json[i].id + ')" class="btn btn-sm btn-danger">Delete</button>',
              };
              dataSet.push(sub_array);
            }
            $("#sample_data").DataTable({
              data: dataSet,
              columns: [
                {
                  data: "user_id",
                },
                {
                  data: "skill_name",
                },
                {
                  data: "rating",
                },
                {
                  data: "description",
                },
                {
                  data: "action",
                },
              ],
            });
          },
          error: function (err) {
            console.log(err);
          },
        });
      }

      function showOne(id) {
        $("#dynamic_modal_title").text("Edit User Skills");
        $("#sample_form")[0].reset();
        $("#action").val("Update");
        $("#action_button").text("Update");
        $(".text-danger").text("");
        $("#action_modal").modal("show");

        $.ajax({
          type: "GET",
          contentType: "application/json",
          url: "https://asepisa07.amisbudi.cloud//portofolio-asep/si-admin/api/skills/read.php?id=" + id,
          success: function (response) {
            $("#id").val(response.id);
            $("#user_id").val(response.user_id);
            $("#skill_name").val(response.skill_name);
            $("#rating").val(response.rating);
            $("#description").val(response.description);
          },
          error: function (err) {
            console.log(err);
          },
        });
      }

      function deleteOne(id) {
        var konfirmasiUser = confirm("Yakin untuk hapus data ?");
        if (konfirmasiUser) {
          $.ajax({
            url: "https://asepisa07.amisbudi.cloud//portofolio-asep/si-admin/api/skills/delete.php",
            method: "DELETE",
            data: JSON.stringify({
              id: id,
            }),
            success: function (data) {
              $("#action_button").attr("disabled", false);
              $("#message").html('<div class="alert alert-success">' + data + "</div>");
              $("#action_modal").modal("hide");
              $("#sample_data").DataTable().destroy();
              showAll();
            },
            error: function (err) {
              console.log(err);
              $("#message").html('<div class="alert alert-danger">' + err.responseJSON + "</div>");
            },
          });
        }
      }
    </script>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="lib/wow/wow.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  </body>
</html>
